<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ibyll Munda: Full Game</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- CHARACTER CREATION AND PROLOGUE SECTIONS -->
  <div id="creator">
    <!-- Step 1: Narrative Introduction & Heritage Selection -->
    <div id="intro" class="section">
      <h1>Character Creator</h1>
      <p>
        The drums of war echo across the land. From the fertile heartlands of the Paanic Empire to the rugged hills of Arras, armies gather beneath proud banners. You are one of many conscripts—an ordinary soul swept into a grand design of conquest. Whether you march across the Crownward Steppe or sail to the Arrasi Peninsula, your fate is to stand shoulder to shoulder with thousands, forging your destiny amid the chaos of the front lines.
      </p>
      <p>
        In this life of discipline and bloodshed, it matters little what station you once held; all that remains is your loyalty to the Empire, your courage under fire, and the memories of home. Yet each heritage carries its own stories, burdens, and hopes. Will you uphold the traditions of your homeland or carve a new path beneath the Empire's sun? The choice is yours, soldier.
      </p>
      <h2>Select Your Heritage</h2>
      <button id="paanic-button" class="menu-button">Heritage: Paanic</button>
      <button id="nesian-button" class="menu-button">Heritage: Nesian</button>
      <button id="lunarine-button" class="menu-button">Heritage: Lunarine</button>
      <button id="wyrdman-button" class="menu-button">Heritage: Wyrdman</button>
    </div>

    <!-- Step 2: Career Selection -->
    <div id="originSection" class="section hidden">
      <button id="back-to-intro-button" class="menu-button">&#8592; Back to Heritage Selection</button>
      <div id="originDescription"></div>
      <h2>Select Your Career</h2>
      <div id="careerOptions"></div>
      <div id="extraButtons"></div>
    </div>

    <!-- Step 3: Name Entry -->
    <div id="nameSection" class="section hidden">
      <button id="back-to-origin-button" class="menu-button">&#8592; Back to Career Selection</button>
      <h2>Enter Your Name</h2>
      <input type="text" id="nameInput" placeholder="Your character's name">
      <br>
      <button id="confirm-name-button" class="menu-button">Confirm Name</button>
    </div>

    <!-- Step 4: Final Character Summary -->
    <div id="finalOutput" class="section hidden">
      <button id="back-to-name-button" class="menu-button">&#8592; Back to Name Entry</button>
      <h2>Your Character</h2>
      <p id="characterSummary"></p>
      <button id="confirm-character-button" class="menu-button">Confirm Character</button>
    </div>

    <!-- Step 5: Prologue Screen (Career-Specific) -->
    <div id="prologueSection" class="section hidden">
      <h2>Prologue</h2>
      <div id="prologueText"></div>
      <button id="continue-to-empire-button" class="menu-button">Continue</button>
    </div>

    <!-- Step 6: Empire Update / Prologue Follow-Up -->
    <div id="empireSection" class="section hidden">
      <h2>The Empire's Crossroads</h2>
      <div id="empireText"></div>
      <button id="start-adventure-button" class="menu-button">Begin Your Adventure</button>
    </div>
  </div>

  <!-- MAIN GAME SECTION (Kasvaari Camp) -->
  <div id="gameContainer" class="hidden">
    <header>
      <h1>Kasvaari Camp</h1>
      <div id="location">Location: Kasvaari Camp, somewhere in the Western Hierarchate of Nesia</div>
      <div class="day-night-indicator" id="dayNightIndicator"></div>
      <div id="timeDisplay"></div>
      <div id="dayDisplay"></div>
    </header>
    
    <!-- Status bars -->
    <div id="status-bars">
      <div class="status-bar">
        <label>Health:</label>
        <div class="bar-container">
          <div id="healthBar" class="bar"></div>
        </div>
        <span id="healthText">100/100</span>
      </div>
      <div class="status-bar">
        <label>Stamina:</label>
        <div class="bar-container">
          <div id="staminaBar" class="bar"></div>
        </div>
        <span id="staminaText">100/100</span>
      </div>
      <div class="status-bar">
        <label>Morale:</label>
        <div class="bar-container">
          <div id="moraleBar" class="bar"></div>
        </div>
        <span id="moraleText">75/100</span>
      </div>
    </div>
    
    <div id="narrative">
      <p>The road has been long. Nearly a season has passed since you departed the heartlands of Paan'eun, the distant spires of Cennen giving way to the endless hinterlands of the empire. Through the great riverlands and the mountain passes, across the dust-choked roads of the interior, and finally westward into the feudalscape of the Hierarchate, you have traveled. Each step has carried you further from home, deeper into the shadow of war.</p>
    </div>
    
    <!-- Mission Interface -->
    <div id="missionInterface" class="hidden">
      <div class="mission-header">
        <h2 id="missionName"></h2>
        <div id="missionProgress">
          <div id="missionDay"></div>
          <div id="missionObjectives"></div>
        </div>
      </div>
      
      <div class="mission-content">
        <div id="missionNarrative"></div>
        <div id="missionActions"></div>
      </div>
      
      <div class="mission-status">
        <div id="missionWeather"></div>
        <div id="missionTerrain"></div>
        <div id="encounterStatus"></div>
      </div>
    </div>
    
    <div id="actions">
      <!-- Action buttons will be dynamically populated -->
    </div>
    
    <!-- Combat Interface (Hidden by default) -->
    <div id="combatInterface" class="hidden">
      <h3>Combat Encounter</h3>
      <div id="combatHeader">
        <div class="combat-health-container">
          <div>You: <span id="playerHealthDisplay">100 HP</span></div>
          <div class="combat-health-bar">
            <div id="playerCombatHealth"></div>
          </div>
        </div>
        <div class="combat-health-container">
          <div><span id="enemyName">Enemy</span>: <span id="enemyHealthDisplay">100 HP</span></div>
          <div class="combat-health-bar">
            <div id="enemyCombatHealth"></div>
          </div>
        </div>
      </div>
      <div id="combatLog">
        <p>Combat begins! Prepare yourself...</p>
      </div>
      <div id="combatActions">
        <!-- Combat buttons will be dynamically populated -->
      </div>
    </div>
    
    <!-- Profile Panel -->
    <div id="profile" class="hidden">
      <h3>Your Profile</h3>
      <p id="profileText"></p>
      <button class="menu-button profile-close">Close</button>
    </div>
    
    <!-- Inventory Panel -->
    <div id="inventory" class="game-panel hidden">
      <div class="panel-header">
        <h2>Inventory</h2>
        <button class="close-btn">×</button>
      </div>
      <div id="inventory-list"></div>
    </div>
    
    <!-- Equipment Panel -->
    <div id="equipment" class="game-panel hidden">
      <div class="panel-header">
        <h2>Equipment</h2>
        <button class="close-btn">×</button>
      </div>
      <div id="equipment-slots">
        <div class="equipment-slot" data-slot="weapon">
          <div class="slot-label">Weapon</div>
          <div class="slot-content">None</div>
        </div>
        <div class="equipment-slot" data-slot="offhand">
          <div class="slot-label">Off Hand</div>
          <div class="slot-content">None</div>
        </div>
        <div class="equipment-slot" data-slot="armor">
          <div class="slot-label">Armor</div>
          <div class="slot-content">None</div>
        </div>
        <div class="equipment-slot" data-slot="helmet">
          <div class="slot-label">Helmet</div>
          <div class="slot-content">None</div>
        </div>
        <div class="equipment-slot" data-slot="amulet">
          <div class="slot-label">Amulet</div>
          <div class="slot-content">None</div>
        </div>
        <div class="equipment-slot" data-slot="ammo">
          <div class="slot-label">Ammunition</div>
          <div class="slot-content">None</div>
        </div>
      </div>
    </div>
    
    <!-- Quest Log Panel -->
    <div id="questLog" class="hidden">
      <h3>Quest Log</h3>
      <div id="questList">
        <!-- Quests will be dynamically populated -->
      </div>
      <button class="menu-button quest-log-close">Close</button>
    </div>
  </div>
  
  <div id="notification" class="notification"></div>

  <!-- Load all JavaScript modules in the correct order -->
  <script src="js/data/origins.js"></script>
  <script src="js/data/careers.js"></script>
  <script src="js/data/narrative.js"></script>
  <script src="js/data/quests.js"></script>
  <script src="js/gameState.js"></script>
  <script src="js/game.js"></script>
  <script src="js/inventory-system.js"></script>
  <script src="js/equipment-system.js"></script>
  <script src="js/characterCreation.js"></script>
  <script src="js/combat.js"></script>
  <script src="js/combatEncounters.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/actions.js"></script>
  <script src="js/data/missions.js"></script>
  <script src="js/data/campaigns.js"></script>
  <script src="js/missionUI.js"></script>
  <script src="js/missionEvents.js"></script>
  <script src="js/missionSystem.js"></script>
  <script src="js/main.js"></script>
</body>
</html>